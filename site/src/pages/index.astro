---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog"))
	.filter((post) => !post.data.draft)
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);

const formatter = new Intl.DateTimeFormat("en-US", {
	year: "numeric",
	month: "short",
	day: "numeric",
});
---

<Layout title="Guy Abi Hanna" description="Senior AI Engineer. Builder. Voice systems in production.">
	<h1>Hi, I’m Guy.</h1>
	<p class="lede">I’m a builder who learns by shipping. These days I work on production voice AI.</p>
	<p>
		I grew up in Lebanon and started coding right after high school, knowing nothing about it.
		I learned Swift from Simon Allardice on Lynda, then shipped hyper-casual games to learn faster.
	</p>
	<p>
		Now I’m a Senior AI Engineer at BCG X. I help teams turn rough ideas into systems that can run
		in the real world.
	</p>
	<p class="small">
		Main CTA: <a href="https://www.linkedin.com/in/guyabihanna">follow me on LinkedIn</a>.
	</p>
	<div class="section">
		<p class="section-title">Latest writing</p>
		{posts.length === 0 ? (
			<p class="small">No posts yet.</p>
		) : (
			<ul>
				{posts.map((post) => (
					<li>
						<a href={`/blog/${post.slug}`}>{post.data.title}</a>
						<span class="small"> · {formatter.format(post.data.pubDate)}</span>
					</li>
				))}
			</ul>
		)}
	</div>
	<div class="section">
		<p class="section-title">Links</p>
		<ul>
			<li><a href="/about">About</a></li>
			<li><a href="/blog">Blog</a></li>
			<li><a href="https://github.com/guyah">GitHub</a></li>
			<li><a href="https://www.linkedin.com/in/guyabihanna">LinkedIn</a></li>
		</ul>
	</div>
</Layout>
